"use strict";(self.webpackChunkmy_webpack_vue=self.webpackChunkmy_webpack_vue||[]).push([[291],{9291:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=function(){this._self._c;return this._m(0)};r._withStripped=!0;var a=n(9477),i=n(9365),s=n(2086),o=n(2666);const c={name:"demoVue",data:function(){return{scene:null,camera:null,renderer:null,mesh:null,controls:null}},methods:{init:function(){this.createScene(),this.createCamera(),this.createRender(),this.createControls(),this.createLight(),this.setHDR(),this.loadModel(),this.render()},createScene:function(){var e=new a.xsS;this.scene=e},createCamera:function(){var e=new a.cPb(60,window.innerWidth/window.innerHeight,1,2e3);e.position.set(0,400,300),this.camera=e},createRender:function(){var e=document.getElementById("container"),t=new a.CP7({antialias:!0,alpha:!0});t.setSize(e.clientWidth,e.clientHeight),e.appendChild(t.domElement),t.setPixelRatio(window.devicePixelRatio),t.toneMapping=a.CdI,t.toneMappingExposure=1,t.gammaOutput=!0,t.physicallyCorrectLights=!0,t.toneMapping=a.LY2,this.renderer=t},setHDR:function(){var e=this,t=this.scene;(new o.x).load("static/fbx/cs/startup.hdr",(function(n){var r=new a.anP(e.renderer);r.compileEquirectangularShader();var i=r.fromCubemap(n).texture;t.environment=i,n.dispose(),r.dispose()}))},createLight:function(){this.scene.add(new a.Mig(16777215,1.5));var e=new a.Ox3(16777215,1);e.position.set(80,100,50),this.scene.add(e)},createControls:function(){var e=new i.z(this.camera,this.renderer.domElement);e.target.set(0,200,0),e.enableZoom=!1,e.enablePan=!1,e.dampingFactor=.5,e.autoRotate=!0,this.controls=e},render:function(){this.renderer.render(this.scene,this.camera),this.controls.update(),requestAnimationFrame(this.render)},loadModel:function(){var e=this,t=new s.y;return new Promise((function(n,r){t.load("static/fbx/cs/02.fbx",(function(t){e.setScaleToFitSize(t),t.position.set(0,100,0),t.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.emissiveMap=e.material.map)})),e.scene.add(t)}))}))},getFitScaleValue:function(e){var t=new a.fQA(e);t.geometry.computeBoundingBox();var n=t.geometry.boundingBox,r=Math.max(n.max.x-n.min.x,n.max.y-n.min.y,n.max.z-n.min.z);return this.camera.position.z/r},setScaleToFitSize:function(e){var t=this.getFitScaleValue(e);return e.scale.set(t,t,t),t}},mounted:function(){this.init()}};const l=(0,n(1900).Z)(c,r,[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"three-container",attrs:{id:"container"}},[t("div",{staticClass:"title"},[t("div",{staticClass:"_title"},[e._v("唐彩绘陶武士俑")]),e._v(" "),t("div",{staticClass:"_sub-title"},[e._v("头戴冠，怒目圆睁，身披盔甲，腰束宽带，足穿靴，踏于兽形座上，右臂叉腰，左臂握拳上举，俑身绘红褐彩。该俑表情威严，给人一种不怒自威、孔武有力的感觉。")])])])])}],!1,null,"722464a6",null).exports},2666:(e,t,n)=>{n.d(t,{x:()=>a});var r=n(9477);class a extends r.yxD{constructor(e){super(e),this.type=r.cLu}parse(e){const t=function(e,t,n){t=t||1024;let r=e.pos,a=-1,i=0,s="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(a=o.indexOf("\n"))&&i<t&&r<e.byteLength;)s+=o,i+=o.length,r+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==n&&(e.pos+=i+a+1),s+o.slice(0,a))},n=function(e,t,n,r){const a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i,n[r+3]=1},a=function(e,t,n,a){const i=e[t+3],s=Math.pow(2,i-128)/255;n[a+0]=r.A5E.toHalfFloat(Math.min(e[t+0]*s,65504)),n[a+1]=r.A5E.toHalfFloat(Math.min(e[t+1]*s,65504)),n[a+2]=r.A5E.toHalfFloat(Math.min(e[t+2]*s,65504)),n[a+3]=r.A5E.toHalfFloat(1)},i=new Uint8Array(e);i.pos=0;const s=function(e){const n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*FORMAT=(\S+)\s*$/,i=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,s={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let o,c;if(e.pos>=e.byteLength||!(o=t(e)))return-1;if(!(c=o.match(/^#\?(\S+)/)))return-1;for(s.valid|=1,s.programtype=c[1],s.string+=o+"\n";o=t(e),!1!==o;)if(s.string+=o+"\n","#"!==o.charAt(0)){if((c=o.match(n))&&(s.gamma=parseFloat(c[1])),(c=o.match(r))&&(s.exposure=parseFloat(c[1])),(c=o.match(a))&&(s.valid|=2,s.format=c[1]),(c=o.match(i))&&(s.valid|=4,s.height=parseInt(c[1],10),s.width=parseInt(c[2],10)),2&s.valid&&4&s.valid)break}else s.comments+=o+"\n";return 2&s.valid&&4&s.valid?s:-1}(i);if(-1!==s){const e=s.width,t=s.height,o=function(e,t,n){const r=t;if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return-1;const a=new Uint8Array(4*t*n);if(!a.length)return-1;let i=0,s=0;const o=4*r,c=new Uint8Array(4),l=new Uint8Array(o);let u=n;for(;u>0&&s<e.byteLength;){if(s+4>e.byteLength)return-1;if(c[0]=e[s++],c[1]=e[s++],c[2]=e[s++],c[3]=e[s++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=r)return-1;let t,n=0;for(;n<o&&s<e.byteLength;){t=e[s++];const r=t>128;if(r&&(t-=128),0===t||n+t>o)return-1;if(r){const r=e[s++];for(let e=0;e<t;e++)l[n++]=r}else l.set(e.subarray(s,s+t),n),n+=t,s+=t}const h=r;for(let e=0;e<h;e++){let t=0;a[i]=l[e+t],t+=r,a[i+1]=l[e+t],t+=r,a[i+2]=l[e+t],t+=r,a[i+3]=l[e+t],i+=4}u--}return a}(i.subarray(i.pos),e,t);if(-1!==o){let i,c,l,u;switch(this.type){case r.VzW:u=o.length/4;const e=new Float32Array(4*u);for(let t=0;t<u;t++)n(o,4*t,e,4*t);i=e,l=r.VzW;break;case r.cLu:u=o.length/4;const t=new Uint16Array(4*u);for(let e=0;e<u;e++)a(o,4*e,t,4*e);i=t,l=r.cLu}return{width:e,height:t,data:i,header:s.string,gamma:s.gamma,exposure:s.exposure,format:c,type:l}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,a){return super.load(e,(function(e,n){switch(e.type){case r.VzW:case r.cLu:e.encoding=r.rnI,e.minFilter=r.wem,e.magFilter=r.wem,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,a)}}}}]);
//# sourceMappingURL=chunk-8bf9535f5f548b09e4d6.js.map