"use strict";(self.webpackChunkmy_webpack_vue=self.webpackChunkmy_webpack_vue||[]).push([[777],{3777:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{attrs:{id:"container"}}),e._v(" "),t("div",{staticClass:"controls-box"},[t("section",[t("el-row",[t("el-checkbox",{model:{value:e.ambientLightVisible,callback:function(t){e.ambientLightVisible=t},expression:"ambientLightVisible"}},[e._v("是否展示环境光")])],1),e._v(" "),t("el-row",[t("el-col",{staticClass:"label-col",attrs:{span:8}},[t("label",[e._v(" 环境光颜色")])]),e._v(" "),t("el-col",{attrs:{span:16}},[t("div",{on:{click:e.ambientLightInputClick}},[t("el-input",{attrs:{value:e.ambientLightcolor}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowAmbientLightColors,expression:"isShowAmbientLightColors"}],staticClass:"color-select-layer"},[t("sketch-picker",{on:{input:e.ambientLightColorChange},model:{value:e.ambientLightcolor,callback:function(t){e.ambientLightcolor=t},expression:"ambientLightcolor"}})],1)])],1),e._v(" "),t("el-row",[t("el-checkbox",{model:{value:e.lightProperties.visible,callback:function(t){e.$set(e.lightProperties,"visible",t)},expression:"lightProperties.visible"}},[e._v("是否展示聚光灯")])],1),e._v(" "),t("el-row",[t("el-col",{staticClass:"label-col",attrs:{span:8}},[t("label",[e._v(" 聚光灯颜色")])]),e._v(" "),t("el-col",{attrs:{span:16}},[t("div",{on:{click:e.inputClick}},[t("el-input",{attrs:{value:e.lightProperties.color}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowColors,expression:"isShowColors"}],staticClass:"color-select-layer"},[t("sketch-picker",{on:{input:e.colorChange},model:{value:e.lightProperties.color,callback:function(t){e.$set(e.lightProperties,"color",t)},expression:"lightProperties.color"}})],1)])],1),e._v(" "),t("el-row",e._l(e.lightProperties,(function(i,s){return t("div",{key:s},[i&&null!=i.name?t("div",[t("el-col",{attrs:{span:8}},[t("span",{staticClass:"vertice-span"},[e._v(e._s(i.name))])]),e._v(" "),t("el-col",{attrs:{span:13}},[t("el-slider",{attrs:{min:i.min,max:i.max,step:i.step,"format-tooltip":e.formatTooltip},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})],1),e._v(" "),t("el-col",{attrs:{span:3}},[t("span",{staticClass:"vertice-span"},[e._v(e._s(i.value))])])],1):e._e()])})),0),e._v(" "),t("el-row",[t("el-col",{staticClass:"label-col",attrs:{span:8}},[t("label",[e._v("target")])]),e._v(" "),t("el-col",{attrs:{span:16}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.lightProperties.target,callback:function(t){e.$set(e.lightProperties,"target",t)},expression:"lightProperties.target"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),t("el-row",[t("el-checkbox",{model:{value:e.lightProperties.castShadow,callback:function(t){e.$set(e.lightProperties,"castShadow",t)},expression:"lightProperties.castShadow"}},[e._v("是否产生阴影")])],1)],1)])])};s._withStripped=!0;var a=i(9477),o=i(9365);const n={components:{"sketch-picker":i(4023).Sketch},data:function(){return{options:[{value:"cube",label:"cube"},{value:"sphere",label:"sphere"},{value:"plane",label:"plane"}],lightProperties:{positionX:{name:"positionX",value:15,min:-40,max:40,step:1},positionY:{name:"positionY",value:40,min:-60,max:100,step:1},positionZ:{name:"positionZ",value:35,min:-40,max:40,step:1},angle:{name:"angle",value:.4,min:.1,max:1.5,step:.1},intensity:{name:"intensity",value:3.1,min:0,max:5,step:.1},distance:{name:"distance",value:200,min:0,max:1e3,step:1},decay:{name:"decay ",value:1,min:0,max:2,step:.1},penumbra:{name:"penumbra",value:.1,min:0,max:1,step:.1},color:"#ccffcc",visible:!0,target:"sphere",castShadow:!0,onlyShadow:!1},ambientLightVisible:!0,isShowAmbientLightColors:!1,ambientLightcolor:"#0c0c0c",isShowColors:!1,lightHelper:null,shadowCameraHelper:null,cube:null,sphere:null,plane:null,ambientLight:null,spotLight:null,camera:null,scene:null,renderer:null,controls:null}},mounted:function(){this.init()},methods:{formatTooltip:function(e){return e},ambientLightInputClick:function(){this.isShowAmbientLightColors=!this.isShowAmbientLightColors},ambientLightColorChange:function(e){this.ambientLightcolor=e.hex},inputClick:function(){this.isShowColors=!this.isShowColors},colorChange:function(e){this.lightProperties.color=e.hex},init:function(){this.createScene(),this.createMesh(),this.createCubeAndSphere(),this.createLight(),this.createCamera(),this.createRender(),this.createControls(),this.render()},createScene:function(){this.scene=new a.xsS},createMesh:function(){var e=new a.xoR({color:8421504,dithering:!0}),t=new a.BKK(2e3,2e3);this.plane=new a.Kj0(t,e),this.plane.position.set(0,0,0),this.plane.rotation.x=.5*-Math.PI,this.plane.receiveShadow=!0,this.scene.add(this.plane)},createCubeAndSphere:function(){var e=new a.DvJ(4,4,4),t=new a.YBo({color:16711680});this.cube=new a.Kj0(e,t),this.cube.castShadow=!0,this.cube.position.set(-4,6,2),this.scene.add(this.cube);var i=new a.xo$(4,26,20),s=new a.YBo({color:7829503});this.sphere=new a.Kj0(i,s),this.sphere.castShadow=!0,this.sphere.position.set(-4,5,12),this.scene.add(this.sphere)},createLight:function(){this.ambientLight=new a.Mig(16777215,.1),this.scene.add(this.ambientLight),this.spotLight=new a.PMe(16777215),this.spotLight.position.set(15,40,35),this.spotLight.angle=Math.PI/4,this.spotLight.penumbra=.05,this.spotLight.decay=2,this.spotLight.distance=200,this.spotLight.castShadow=!0,this.spotLight.shadow.mapSize.width=1024,this.spotLight.shadow.mapSize.height=1024,this.spotLight.shadow.camera.near=10,this.spotLight.shadow.camera.far=200,this.scene.add(this.spotLight),this.lightHelper=new a.FvO(this.spotLight),this.scene.add(this.lightHelper),this.shadowCameraHelper=new a.Rki(this.spotLight.shadow.camera),this.scene.add(this.shadowCameraHelper),this.scene.add(new a.y8_(20))},createCamera:function(){var e=document.getElementById("container"),t=e.clientWidth/e.clientHeight;this.camera=new a.cPb(35,t,.1,1e3),this.camera.position.set(165,38,-10),this.camera.lookAt(new a.Pa4(10,0,0)),this.scene.add(this.camera)},createRender:function(){var e=document.getElementById("container");this.renderer=new a.CP7,this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.shadowMap.enabled=!0,this.renderer.setClearColor(4144959,1),e.appendChild(this.renderer.domElement)},updateFun:function(){this.ambientLight.color=new a.Ilk(this.ambientLightcolor),this.ambientLight.visible=this.ambientLightVisible,this.spotLight.color=new a.Ilk(this.lightProperties.color),this.spotLight.angle=this.lightProperties.angle.value,this.spotLight.intensity=this.lightProperties.intensity.value,this.spotLight.distance=this.lightProperties.distance.value,this.spotLight.penumbra=this.lightProperties.penumbra.value,this.spotLight.decay=this.lightProperties.decay.value,this.spotLight.position.set(this.lightProperties.positionX.value,this.lightProperties.positionY.value,this.lightProperties.positionZ.value),"sphere"===this.lightProperties.target?this.spotLight.target=this.sphere:"plane"===this.lightProperties.target?this.spotLight.target=this.plane:this.spotLight.target=this.cube,this.spotLight.visible=this.lightProperties.visible,this.spotLight.castShadow=this.lightProperties.castShadow,this.lightHelper.update(),this.shadowCameraHelper.update()},render:function(){this.updateFun(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)},createControls:function(){this.controls=new o.z(this.camera,this.renderer.domElement),this.controls.target.copy(this.plane.position)}}};const l=(0,i(1900).Z)(n,s,[],!1,null,null,null).exports}}]);
//# sourceMappingURL=chunk-4fd9fbd8c6068165cef9.js.map