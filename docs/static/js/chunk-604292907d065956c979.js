"use strict";(self.webpackChunkmy_webpack_vue=self.webpackChunkmy_webpack_vue||[]).push([[948],{7948:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=function(){var e=this._self._c;return e("div",[e("div",{staticClass:"three-container",attrs:{id:"container"},on:{click:this.getSelectCube}})])};r._withStripped=!0;var s=n(4942),i=n(9477),o=n(9365),a=n(5786),c=n(4458),h=n(8939),l=n(7531),u=n(185),d=n(2086),p=n(2666);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w={name:"demoVue",data:function(){return{scene:null,camera:null,renderer:null,mesh:null,controls:null,planeGeometry:null,composer:null,outlinePass:null,renderPass:null,rootMesh:null,tempMesh:null}},methods:{init:function(){this.createScene(),this.createCamera(),this.createRender(),this.setHDR(),this.createMesh(),this.createLight(),this.createControls(),this.render()},createScene:function(){var e=new i.xsS;this.scene=e},createCamera:function(){var e=new i.cPb(60,window.innerWidth/window.innerHeight,1,3e3);e.position.set(-500,700,700),this.camera=e},createRender:function(){var e=document.getElementById("container"),t=new i.CP7({antialias:!0,alpha:!0});t.context.getShaderInfoLog=function(){return""},t.setSize(e.clientWidth,e.clientHeight),e.appendChild(t.domElement),this.renderer=t},setHDR:function(){var e=new i.anP(this.renderer);e.compileEquirectangularShader();var t=this.scene;(new p.x).setDataType(i.ywz).load("static/fbx/cs/startup.hdr",(function(n){var r=e.fromEquirectangular(n).texture;e.dispose(),t.environment=r,t.background=r}))},createMesh:function(){},createLight:function(){this.scene.add(new i.Mig(16777215,1))},createControls:function(){var e=new o.z(this.camera,this.renderer.domElement);e.target.set(0,100,0),this.controls=e},render:function(){this.renderer.render(this.scene,this.camera),this.controls.update(),requestAnimationFrame(this.render),this.composer&&this.composer.render()},outlineObj:function(e){this.composer=new a.xC(this.renderer),this.renderPass=new c.C(this.scene,this.camera),this.composer.addPass(this.renderPass);var t=new h.f(new i.FM8(window.innerWidth,window.innerHeight),this.scene,this.camera,e);t.selectedObjects=e,t.edgeStrength=10,t.edgeGlow=1,t.usePatternTexture=!1,t.edgeThickness=1,t.downSampleRatio=1,t.pulsePeriod=5,t.visibleEdgeColor.set(parseInt(65280)),t.hiddenEdgeColor=new i.Ilk(0,0,0),t.clear=!0,this.outlinePass=t,this.composer.addPass(this.outlinePass);var n=new l.T(u.C);n.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),n.renderToScreen=!0,this.composer.addPass(n)},getSelectCube:function(e){var t=new i.iMs,n=new i.FM8;n.x=e.clientX/window.innerWidth*2-1,n.y=-e.clientY/window.innerHeight*2+1,t.setFromCamera(n,this.camera);var r=[];this.scene.children.forEach((function(e){for(var t=0;t<e.children.length;t++){var n=e.children[t];r.push(n)}}));var s=t.intersectObjects(r);if(s.length>0){this.rootMesh&&(this.tempMesh.position.x=this.rootMesh.position.x,this.tempMesh.position.y=this.rootMesh.position.y,this.tempMesh.position.z=this.rootMesh.position.z);var o=s.map((function(e){return e.object}))[0];switch(this.rootMesh={position:m({},o.position),rotation:m({},o.rotation),scale:m({},o.scale)},this.tempMesh=m({},o),o.name){case"wheel_rf":case"wheel_rr":this.tempMesh.position.x+=15;break;case"wheel_lf":case"wheel_lr":case"wheel_lf":case"wheel_lr":this.tempMesh.position.x-=15}}},loadModel:function(){var e=this,t=new d.y;return new Promise((function(n,r){i.PpQ.loadTexture("static/fbx/jx/material_0_Color.png",null,(function(e){}));t.load("static/fbx/cs/机械测试.fbx",(function(t){t.scale.set(2,2,2),t.position.set(0,0,0),t.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),e.scene.add(t)}))}))}},mounted:function(){this.init(),this.loadModel()}};const g=(0,n(1900).Z)(w,r,[],!1,null,"213d29f2",null).exports},2666:(e,t,n)=>{n.d(t,{x:()=>s});var r=n(9477);class s extends r.yxD{constructor(e){super(e),this.type=r.cLu}parse(e){const t=function(e,t,n){t=t||1024;let r=e.pos,s=-1,i=0,o="",a=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(s=a.indexOf("\n"))&&i<t&&r<e.byteLength;)o+=a,i+=a.length,r+=128,a+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<s&&(!1!==n&&(e.pos+=i+s+1),o+a.slice(0,s))},n=function(e,t,n,r){const s=e[t+3],i=Math.pow(2,s-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i,n[r+3]=1},s=function(e,t,n,s){const i=e[t+3],o=Math.pow(2,i-128)/255;n[s+0]=r.A5E.toHalfFloat(Math.min(e[t+0]*o,65504)),n[s+1]=r.A5E.toHalfFloat(Math.min(e[t+1]*o,65504)),n[s+2]=r.A5E.toHalfFloat(Math.min(e[t+2]*o,65504)),n[s+3]=r.A5E.toHalfFloat(1)},i=new Uint8Array(e);i.pos=0;const o=function(e){const n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,i=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let a,c;if(e.pos>=e.byteLength||!(a=t(e)))return-1;if(!(c=a.match(/^#\?(\S+)/)))return-1;for(o.valid|=1,o.programtype=c[1],o.string+=a+"\n";a=t(e),!1!==a;)if(o.string+=a+"\n","#"!==a.charAt(0)){if((c=a.match(n))&&(o.gamma=parseFloat(c[1])),(c=a.match(r))&&(o.exposure=parseFloat(c[1])),(c=a.match(s))&&(o.valid|=2,o.format=c[1]),(c=a.match(i))&&(o.valid|=4,o.height=parseInt(c[1],10),o.width=parseInt(c[2],10)),2&o.valid&&4&o.valid)break}else o.comments+=a+"\n";return 2&o.valid&&4&o.valid?o:-1}(i);if(-1!==o){const e=o.width,t=o.height,a=function(e,t,n){const r=t;if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return-1;const s=new Uint8Array(4*t*n);if(!s.length)return-1;let i=0,o=0;const a=4*r,c=new Uint8Array(4),h=new Uint8Array(a);let l=n;for(;l>0&&o<e.byteLength;){if(o+4>e.byteLength)return-1;if(c[0]=e[o++],c[1]=e[o++],c[2]=e[o++],c[3]=e[o++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=r)return-1;let t,n=0;for(;n<a&&o<e.byteLength;){t=e[o++];const r=t>128;if(r&&(t-=128),0===t||n+t>a)return-1;if(r){const r=e[o++];for(let e=0;e<t;e++)h[n++]=r}else h.set(e.subarray(o,o+t),n),n+=t,o+=t}const u=r;for(let e=0;e<u;e++){let t=0;s[i]=h[e+t],t+=r,s[i+1]=h[e+t],t+=r,s[i+2]=h[e+t],t+=r,s[i+3]=h[e+t],i+=4}l--}return s}(i.subarray(i.pos),e,t);if(-1!==a){let i,c,h,l;switch(this.type){case r.VzW:l=a.length/4;const e=new Float32Array(4*l);for(let t=0;t<l;t++)n(a,4*t,e,4*t);i=e,h=r.VzW;break;case r.cLu:l=a.length/4;const t=new Uint16Array(4*l);for(let e=0;e<l;e++)s(a,4*e,t,4*e);i=t,h=r.cLu}return{width:e,height:t,data:i,header:o.string,gamma:o.gamma,exposure:o.exposure,format:c,type:h}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,s){return super.load(e,(function(e,n){switch(e.type){case r.VzW:case r.cLu:e.encoding=r.rnI,e.minFilter=r.wem,e.magFilter=r.wem,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,s)}}}}]);
//# sourceMappingURL=chunk-604292907d065956c979.js.map